(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const cssThemeSwitcher="";function normalizeAngle(t){return t=t%360,t<0&&(t+=360),t}function toRadians(t){return Number.isInteger(t)?normalizeAngle(t)*Math.PI/180:t}function fixFloatingPoint(t,e=1){if(e===0)return parseFloat(t.toFixed(3));for(let n=0;n<=e;n++){const r=parseFloat(t.toFixed(n));if(Math.abs(t-r)<Math.pow(10,-(n+1)))return r}return t}function ffp(t){return{x:fixFloatingPoint(t.x,0),y:fixFloatingPoint(t.y,0)}}function average(...t){return sum(t)/t.length}function sum(t,e){const n=typeof t[0]=="number"?0:"",r=(i,o,c)=>i+=e?e(o,c):o;return t.reduce(r,n)}const roygbiv=["red","orange","yellow","green","blue","indigo","violet"],javascriptBasicTypes=["Function","Number","Object","Array","Set","Promise","Null","Undefined","String"],svgTags=["svg","rect","circle","ellipse","line","polyline","polygon","path","text","g","defs","mask","image","use","symbol","clipPath","foreignObject","style","animate","animateTransform","animateMotion","stop","linearGradient","radialGradient"],javascriptNativeFunctions=[Number,String,Object,Array,Promise,Set,Function];var commonExtensions=["js","py","txt","json","vim","css","html","pdf","svg","jpg","png","typ"];const terminalColors={EMPTY:"",BLACK:"\x1B[30m",RED:"\x1B[31m",GREEN:"\x1B[32m",YELLOW:"\x1B[33m",BLUE:"\x1B[34m",RESET:"\x1B[0m",BRIGHT:"\x1B[1m",BOLD:"\x1B[1m"};var EMDASH="â€”";const selfClosingTags=["area","base","br","col","embed","hr","img","input","link","meta","source","track","wbr"],commonFunctionNames=["action","transform","identity","parse"],jspyref={vim:{echoTemplate:'echo "%s: " . string(%s)',highFrequencyWords:[],logTemplate:'call s:red("$1", $1)',solWords:["call s:myappend","let s = getline()"],functionBlockTemplate:"function %s(%s) {\r}O",objectBlockTemplate:"x",elseTemplate:`if 1
    $1
endif`,reservedKeywords:["let","g:","b:","l:","a:","if","else","while","for","echo","try","catch","abort","exit","match","add"],returnTemplate:'return s:red("$1", $1)',mainFunctionBlockTemplate:`function Main(s)
	
endfunction`,echoInputTemplate:"call input('$1: ' . s:string($1))",bookmarkCommentEnd:'"""',function_re:"(function!?) \\zs\\w+",fileFromFunctionBlockTemplate:`$importString

$1`,commonFunctionWords:["Transform","string"],commentPrefix:'"',backslash:"\\",functionRefFile:"/home/kdog3682/.vim/ftplugin/functions2.vim",temporaryLogTemplate:"",shuntIndexKey:"smart",functionTemplate:`function $1($2) {
    $n}`,execFunctions:{csf:"Create_s_function_from_reg_function",gft:"s:get_file_type",ivc:"InsertFunctionIntoVimConnector"},equalDict:{ref:{replaceWith:"ref",value:`{
\\'': "",
\\}`},lang:"&filetype\r",s:"getline('.')\r",gsi:{entries:{s:"getline('.')",index:"line('.')",spaces:"matchstr(s, '^ *')"}},si:{replaceWith:"s",value:"getline(i)\r"},scol:{entries:{s:"getline('.')",pos:"col('.') - 1"}},ind:"GetIndent()",ab:{replaceWith:"[a,b]"}},shuntdownGrabRE:"^(iab|iabbrev|nnoremap|inoremap|vnoremap|cnoremap|nnoremenu|inoremenu|vnoremenu|cnoremenu|noreabbrev|noremenu|nmap|imap|vmap|cmap|inoreab|set|iunmap|nunmap|source)>",echoLogThrowTemplate:"ec $1",bookmarkCommentStart:'"""',libraryLoaderKeys:"vimkeys",blockexitre:"^ *(\\\\\\]|\\\\\\},?|end\\w+|else) *$",echoWordTemplate:"",nativeFunctions:["copy","map","filter"],identifierRE:"(^ *\\w+ +)\\zs\\[?\\w+.{-}\\ze *\\=",templateExpressions:{tl:"aaaaaa"},importDependencyStringTemplate:"",shellTemplate:"",functionWrapTemplate:"",blockPairs:{"\\{ *$":"\\}","^ *(if|elseif)>":"(else|end)if","[ *$":"\\]","^ *for":"endfor","^ *try":"endtry"},prefix:"let ",qqqqCompletionItems:[{a:"%(^| \\zs)[a-z]+$",fn:"MarkdownSpaceCompletion"}],functionTemplateLines:["function Abc()","endfunction"],wrapLambdaTemplate:"",echoReturnTemplate:"return s:print($1)",functionNames:[],lineCommentPrefix:'" ',gcwre:"[:a-z0-9\\._-]+",lineContinuationMarker:"\\",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"<[a-z]:[a-z]+$",fn:"VimVarCompletion"},{a:"[a-z]+$",b:"^\\w+",fn:"WrapCompletion"},{a:"[a-z]+$",fn:"WordSpiralCompletion"}],throwTemplate:'call s:red("$1", $1)\\nthrow "stop"',commentTemplate:'" $1',echoLogTemplate:"ec $1",tryTemplate:`try
    $1
catch
endtry`,functionLineRE:"^function!? +\\w",regexDelim:"''",blockenterre:"^ *(if|elseif|else|for|while|do|function|\\{|\\[|`)>"},template:{shuntIndexKey:"belowCursor"},markdown:{reservedKeywords:[],execFunctions:{cr:"CreateMarkdownSection",sf:"GetSetFn('AppMarkdownSpellFix')",m:"ToggleMarkdownCompletion"},qqqqCompletionItems:[{a:"%(^| \\zs)[a-z]+$",fn:"MarkdownSpaceCompletion"}],blockexit:".",shuntIndexKey:"belowCursor",blockenterre:".",qqqCompletionItems:[{a:"[^a-z]$",value:" "},{a:"%(^| \\zs)[a-z]+$",fn:"MarkdownSpaceCompletion"}]},dialogue:{execFunctions:{dr:"DialogueReplace"}},stylus:{blockPairs:{"\\{ *$":"\\}","^ *(if|elseif)>":"(else|end)if","[ *$":"\\]","^ *for":"endfor","^ *try":"endtry"},execFunctions:{sayhi:'Sayhi("stylus")'},functionBlockTemplate:"def $1(${Paramify($2)})\n	$c",commentPrefix:"//",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"[a-z]+$",fn:"StylusWordSpiralCompletion"}]},text:{commentPrefix:"#",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"/([a-z])+$",source:"g:dir2023"},{a:"[a-z]+$",fn:"GetCompletionWords"}]},html:{commentTemplate:"<!-- $1 -->"},javascript:{echoTemplate:'console.log("%s", %s)',highFrequencyWords:["name","async ","javascript","markdown","python","Words"],logTemplate:"console.log({$1})",methodBlockTemplate:"%s(%s) {\r}O",solWords:[],functionBlockTemplate:"function %s(%s) {\r}O",objectBlockTemplate:"%s(%s) {\r},O",elseTemplate:`else {
    $1
}`,reservedKeywords:["await","break","case","catch","class","const","do","else","false","for","if","in","let","new","null","super","this","throw","true","try","var","while","with","yield"],returnTemplate:'return red("$1", $1)',mainFunctionBlockTemplate:`function main(s) {
	
}`,echoInputTemplate:'console.log("%s", $1)',bookmarkCommentEnd:"**/",function_re:"(class|(async )?function) \\zs\\w+",fileFromFunctionBlockTemplate:`$importString
export { $2 }
 $1`,commonFunctionWords:"",commentPrefix:"//",backslash:"",functionRefFile:"/home/kdog3682/2023/utils.js",temporaryLogTemplate:"console.temporary($1)",shuntIndexKey:"smart",functionTemplate:`function $1($2) {
    $c
}`,execFunctions:{gen:"GenerateJavascriptTest"},equalDict:{v:{replaceWith:"value"},ab:{replaceWith:"[a,b]"},suf:{replaceWith:"m",value:"sort(unique(findall(r, s)))"},ts:{replaceWith:"text",value:"s.trim()"},fa:{replaceWith:"m",value:"findall(r, s)"}},shuntdownGrabRE:"^(#|//|\\w+(\\.\\w+)*\\().+",echoLogThrowTemplate:'console.log($1); throw "$1"',bookmarkCommentStart:"/**",libraryLoaderKeys:"javascriptkeys",blockexitre:"^ *([\\]}])\\)?,? *$",echoWordTemplate:"display('$cw', $cw, 0)",nativeFunctions:["print"],identifierRE:"(^ *\\w+ +)\\zs[\\{\\[]?\\w+.{-}\\ze *\\=",templateExpressions:{tl:'console.log($1); throw "throwing"'},importDependencyStringTemplate:"import { $1 } from './$2'",shellTemplate:"!node $1",functionWrapTemplate:`function runner(s) {
    $1
}`,blockPairs:{"\\{ *$":"}","[ *$":"]","^ *(for|while|if|else|do|function)>":"}"},prefix:"const ",localHighFrequencyWords:["checkValue","computedValue","JSON.stringify"],lineCommentPrefix:"// ",functionTemplateLines:["function abc(s) {","}"],wrapLambdaTemplate:`function $prompt(s) {
    $1
}`,echoReturnTemplate:"return $1",functionNames:[],gcwre:"[a-z0-9\\._-]+",lineContinuationMarker:"",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"r:[a-z]+$",fn:"s:regex_completion"},{a:"/[a-z]+$",fn:"JavascriptFileCompletion"},{a:"f?:[a-z]+$",fn:"JavascriptFarawayFunctionCompletion"},{a:"[a-z]+$",fn:"JavascriptWordSpiralCompletion"}],throwTemplate:'console.log("$1", $1); throw "throwing";',commentTemplate:"// $1",echoLogTemplate:"console.log($1)",tryTemplate:"c",functionLineRE:"^(const|class|(async )?function\\*?) +\\w",regexDelim:"//",blockenterre:"^ *(if|else if|else|while|do|for|(async )?function|try|class)|[{\\[] *$"},css:{commentTemplate:"/* $1 */",execFunctions:{cr:"CssCreateClass",if:"CssImportFont",sv:"CssSetVarValue",dup:"CssDupLine",var:"CssVarialize",gather:"VisualCssGatherPropertiesFromBlock",bs:"OpenBuffer4('bootstrap.css')",anime:"CssAnime",font:"CssImportFont"},blockexit:"[{\\[:] *$",blockenterre:"[{\\[:] *$",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"--\\w*$",fn:"CssDashCompletion"},{a:": *\\zs[a-z]\\d$",fn:"CssColorCompletion"},{a:"^ *\\zs[a-z]+$",fn:"CssCompletion"},{a:"[a-z]+$",fn:"CssWordSpiralCompletion"}]},python:{echoTemplate:'print("%s", %s)',highFrequencyWords:[],logTemplate:'red("$1", $1)',methodBlockTemplate:"def %s(self, %s) :\r",solWords:[],functionBlockTemplate:"def $1(${Paramify($2)}):\n	$c",objectBlockTemplate:"x",elseTemplate:"b",reservedKeywords:["and","as","async","await","break","class","def","del","elif","else","for","from","if","in","is","not","or","pass","raise","try","while","with","yield"],returnTemplate:'return red("$1", $1)',mainFunctionBlockTemplate:`def main(s)
	`,echoInputTemplate:"prompt('$1', $1)",bookmarkCommentEnd:'"""',function_re:"(class|def) \\zs\\w+",fileFromFunctionBlockTemplate:`$importString

$1`,commentPrefix:"#",backslash:"",functionRefFile:"/home/kdog3682/PYTHON/base.py",temporaryLogTemplate:"",shuntIndexKey:"smart",execFunctions:{pe:"PythonExtract",uv:"UnmapPython"},equalDict:{s:"getline('.')\r"},shuntdownGrabRE:"^(#|//|\\w+(\\.\\w+)*\\().+",commonFunctionWordAtoms:"",echoLogThrowTemplate:"b",bookmarkCommentStart:'"""',libraryLoaderKeys:"pythonkeys",blockexitre:"^ *([\\]}]) $",echoWordTemplate:"",nativeFunctions:["console.log"],identifierRE:"^ *\\w+.{-}\\ze *\\=",templateExpressions:{},importDependencyStringTemplate:"",shellTemplate:"!python3 $1",functionWrapTemplate:"",blockPairs:{"\\{ *$":"}","[ *$":"]"},prefix:"",lineCommentPrefix:"# ",functionTemplateLines:["def abc():",""],wrapLambdaTemplate:"",echoReturnTemplate:"return $1",functionNames:[],gcwre:"[a-z0-9\\._-]+",lineContinuationMarker:"",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"[a-z]+$",fn:"LocalCompletion"},{a:"[a-z]+$",sourceFunction:"s:get_python_identifiers"}],throwTemplate:'return red("$1", $1)',commentTemplate:"# $1",echoLogTemplate:"b",tryTemplate:"b",functionLineRE:"^(def|class) +\\w",regexDelim:"''",blockenterre:"[{\\[:] *$"},grammar:{reservedKeywords:[],commentPrefix:"//",qqqCompletionItems:[{a:"^\\s*$",value:"	"},{a:"[a-z]+$",fn:"GenericWordSpiralCompletion"}]}};jspyref.typst={prefix:"#let "};const colors={BLACK:"\x1B[30m",RED:"\x1B[31m",GREEN:"\x1B[32m",YELLOW:"\x1B[33m",BLUE:"\x1B[34m",RESET:"\x1B[0m",BRIGHT:"\x1B[1m",BOLD:"\x1B[1m"};function getColor(t,e){return(e||/^[A-Z]/.test(t)?colors.BOLD:"")+colors[t.toUpperCase()]}function bold(t){return colors.BOLD+t+colors.RESET}function factory(t){const e=typeof window>"u";function n(i,o){return getColor(t,o)+i+colors.RESET}function r(i,o){return getColor(t,o)+i+colors.RESET}return e?r:n}const red=factory("blue"),blue$1=factory("blue");isDeno()&&(Deno.debug={});console.show=noop;console.show=console.log;console.temporary=t=>blue("temporary",t);console.logg=t=>console.log(stringify(t));console.speak=(...t)=>console.log(blue$1(t[0]),...t.slice(1));console.browser=t=>browserChalk2(t,"blue");console.loggg=t=>console.log(prettyStringify(t));console.sandwich=sandwichLog;console.test=consoleTest;console.test2=consoleTest2;function consoleTest2(t,...e){console.log(t(console.s,...e))}const linebreakRE=/^--------+/m;function abf(t,e){let n=countParameters(t);return n==1?([r,i])=>t(i):n>=2?e==1?([r,i])=>t(r):e==2?([r,i])=>t(i):([r,i])=>t(r,i):([r,i])=>t(r,i)}function countParameters(t){return firstLine(t.toString()).includes("...")?100:getParameters(t).length}function antif(t){return function(...n){return!t(...n)}}function assignFreshItem(t,e,n){assert(t),n!=null&&(t.hasOwnProperty(e)||(t[e]=n))}function assignFresh(t,e){if(arguments.length===3)return assignFreshItem(...arguments),t;if(!e)return{};for(const[n,r]of Object.entries(e))t[n]==null&&(t[n]=r);return t}function brackify(t,e,n){return arguments.length==1?wrap(newlineIndent(arguments[0]),"{}"):e==Array?empty(t)?"":wrap(newlineIndent(arguments[0],Array),"{}"):isArray(t)?`{
${t.map(r=>"    "+r+",").join(`
`)}
}`:(n==Array&&isArray(e)&&(e=e.map(r=>r+",")),(t?t.trim()+" ":"")+wrap(newlineIndent(e),"{}"))}function bringToLife(x,scope){if(!isString(x))return x;if(x=smartDedent(x),/^[\[{]/.test(x))return eval(parens(x));/^x/.test(x)?x="(x) => "+x:/^(?:const|var|let)/.test(x)?x=x.replace(/.*? *= */,""):/^(?:async )?\w+\(/.test(x)&&(x=x.replace(/^(?:async )?/,t=>t+"function "));try{const t=evaluate(parens(x),scope);return assert(!t.error),t.success}catch(t){console.log("ERRORRRRRRRR",t.toString(),{x})}}function capitalize(t){return t.replace(/^['"]?[a-zA-Z]/,e=>e.toUpperCase())}function char2n(t){return t.charCodeAt(0)-97}function copy(t){if(!empty(t))return JSON.parse(JSON.stringify(t))}function jspy(t,e){return jspyref[t][e]}function curryStart(t,...e){return(...n)=>t(...e,...n)}function dashCase(t,...e){if(empty(t))return"";if(e.length&&!isNumber(e[0]))return[dashCase(t)].concat(e.map(i=>dashCase(i))).join("-");if(isUpperCase(t))return t.toLowerCase();if(t.length<3)return t;const n=/^[A-Z]{2,}|[a-z][A-Z]|[_.]|\d+$/g,r=t.includes("-");return t.replace(n,(i,o)=>{if(i=="."&&r)return i;if(isNumber(i))return"-"+i;if(i.length>1&&i==i.toUpperCase())return i=="HTML"?i:i.slice(0,-1)+"-"+i.slice(-1);if(i.length==1)return o==0&&i==":"?":":"-";if(i.length==2)return i[0]+"-"+i[1]}).toLowerCase()}function depluralize(t){return t.replace(/s$/,"")}function dict(t,e){if(!exists(t))return{};if(isArray(t)&&isArray(e))return zip(t,e);function n(r,i,o){return isDefined(o)&&(r[i]=o),r}if(!e&&isArray(t)&&t.length==2&&!isArray(t[0]))return{[t[0]]:t[1]};if(isObject(arguments[1])){const r=arguments[1];e=(i,o)=>{const c=r[o];return isDefined(c)?c:i}}return entries(t).reduce((r,i,o)=>{const[c,a]=isArray(i)?i:[i,i];return n(r,c,e?e(a,c,o):a)},{})}function singleQuote(t){return/^["'`]/.test(t)?t:`'${t}'`}function doubleQuote(t){return/^["'`]/.test(t)?t:`"${t}"`}function dreplace(t,e,n){if(!exists(e))return t;function r(c){return isCapitalized(c)?capitalize(e[c.toLowerCase()]):e[c]}const i=reWrap(e,n),o=hasCaptureGroup(i.source)?(c,a)=>r(a):c=>r(c)+"";return t.replace(i,o)}function evaluate(s,scope){function scopedEvaluator(t,e){return e===!0&&(e={}),Function.call(null,...Object.keys(e),"expr","return eval('expr = undefined;' + expr)").call(null,...Object.values(e),t)}const withContext=!0;try{const value=scope?scopedEvaluator(s,scope):withContext?eval(s):(0,eval)(s);return{success:value}}catch(t){throw new Error(t)}}function exists(t){return t==null?!1:isString(t)?t.trim().length>0:isArray(t)?t.filter(exists).length>0:isObject(t)?Object.keys(t).length>0:!0}function findall(t,e){isString(t)?t=RegExp(t,"g"):t.flags.includes("g")||(t=RegExp(t.source,t.flags+"g"));const n=[];for(;;){const r=t.exec(e);if(r)n.push(matchGetter(r,"findall"));else return n}}function firstLine(t){return search(/^.+/,t.toString())}function fparse(t,...e){return isObject(t)?runFunctionFromRef(t,...e):isDefined(t)?isFunction(t)?t(...e):t:e[0]}function getFirstWord(t){return t?search(/[a-zA-Z]\w*/,t):""}function getLast(t){return t[t.length-1]}function getParameters(t){t=t.toString().trim();let e=/\((.*?)\)/;/^\(/.test(t)||(/^\w+\({/.test(t)?e=/{(.*?)}/:/^.*?=>/.test(t)&&(e=/= *(.*?) *=>/));const n=search(e,t);if(!n)return[];const r=split(n,/(\[.*?\])|,/),i=o=>/^\[/.test(o)?o:getFirstWord(o);return r.map(i)}function hasCaptureGroup(t){return/[^\\]\((?!\?)/.test(t)}function hasHtml(t){return test(/^ *<\/?[a-z\/]/m,t)}function hasNewline(t){return t&&t.toString().trim().includes(`
`)}function hasValue(t){return!(t===""||t==null||Number.isNaN(t))}function identity(t){return t}function indent2(t,e=4){if(!e)return t;const n=toSpaces(e);return isArray(t)?t.map(r=>r.replace(/^/gm,n)):t.toString().replace(/^/gm,n)}function indent(t,e=4){if(empty(t))return"";let n=isNumber(e)?" ".repeat(Math.max(0,e)):e.replace(/\t/g," ".repeat(4));return n?t.replace(/^/gm,n):t}function isArray(t){return Array.isArray(t)}function isBoolean(t){return t===!0||t===!1}function isCapitalized(t){return isString(t)&&/^[A-Z]/.test(t)}function isClassFunction(t){return isFunction(t)&&/^class /.test(String(t))}function isDefined(t){return t!=null}function isFunction(t){return typeof t=="function"}function isJsonParsable(t){return/^[{\[]/.test(t)&&/[\]\}],?\s*$/.test(t)}function isNestedArray(t){return isArray(t)&&isArray(t[0])}function isNumber(t){return typeof t=="number"||isString(t)&&/^-?\d+(?:\.\d+)?$/.test(t)}function isObject(t){const e=type(t);return e=="Object"||e=="Module"}function isObjectWithKey(t,e){try{return typeof t=="object"&&e in t}catch{return!1}}function isObjectArray(t){return isArray(t)&&isObject(t[0])}function isPrimitive(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="boolean"}function isRegExp(t){return type(t)=="RegExp"}function isSet(t){return type(t)=="Set"}function isString(t){return typeof t=="string"}function isWord(t){return test(/^[a-zA-Z]+$/,t)}function join(...t){const e=flat(t).map(r=>hasValue(r)?isObject(r)?join(Object.values(r)):isString(r)?r:r.toString():"");let n="";for(let r=0;r<e.length;r++){let i=e[r];n+=i.trimEnd(),i.includes(`
`)||(e[r+1]||"").includes(`
`)?n+=`

`:n+=`
`}return n}function lineGetter(t,e){return isArray(t)?t:e?isNumber(e)?t.trim().split(`
`).slice(e-1):t.trim().split(`
`):split(smartDedent(t),/\n+|(?:\\[nN] *)+/)}function map(t,e){if(t==null)return[];let n=type(t);if(n=="Number")return isPrimitive(e)?e.toString().includes("$1")?range(1,1+t).map(o=>e.replace(/\$1/g,o)):range(1,1+t).map(o=>e):t>0?range(1,1+t).map(e):range(1,1+Math.abs(t)).map(o=>e(-o));let r=!1;if(n=="Object"||n=="Module")t=Object.entries(t),r=!0;else if(isNestedArray(t))r=!0;else{if(isPrimitive(t))return map([t],e)[0];t=Array.from(t)}let i=e;return isClassFunction(e)?i=o=>new e(o):isObjectArray(t)&&isString(e)?i=o=>fparse(o[e]):isRegExp(e)?i=curryStart(search,e):isString(e)&&(i=curryStart(templater,e),r=!1),r?t.map(abf(i)):t.map(i)}function matchGetter(t,e){if(e=="replace")switch(t.length){case 3:return[t[0]];case 4:return[t[1]];default:return t.slice(1,-2)}if(e=="mget")return t.length==1?t[0]:t.length==0?"":t;if(e=="searchArray")return t?t.length==1?[t[0]]:t.length==2?[t[1]||t[0]]:t.slice(1).filter(exists):null;if(e=="search3")return t?t.length==1?t[0]:t.length==2?isDefined(t[1])?t[1]:t[0]:t.slice(1).filter(isDefined):null;if(e=="search")return t?t.length==1?t[0]:t.length==2?isDefined(t[1])?t[1]:t[0]:t.slice(1).filter(exists):null;if(e=="search2")return t?t.length==1?t[0]:t.length==2?isDefined(t[1])?t[1]:t[0]:t.slice(1).filter(isDefined):null;if(e=="search")return t?t.length==1?t[0]:t.length==2?isDefined(t[1])?t[1]:t[0]:t.slice(1).filter(exists):null;if(e=="findall")return t.length==1?t[0]:smallify(t.slice(1).filter(isDefined))}function mget(t,e,n){const r=[],i=hasCaptureGroup(t)?1:0;function o(...l){const p=l.slice(i,-2).filter(isDefined).map(trim),b=smallify(p);return r.push(b),""}const c=t.flags.includes("g"),a=e.replace(t,o);return n==Array&&!c?i?[a,smallify(r)]:[a,r]:c?[a,r]:[a,matchGetter(r,"mget")]}function n2char(t){let e=-1;for(;t>25;)t-=26,e+=1;let n=r(t);return e>-1?r(e)+n:n;function r(i){return String.fromCharCode(i+97)}}function newlineIndent(t,e){if(!t)return"";if(isArray(t)){const n=e==Array||e===!0?`,
`:`
`;t=t.join(n)+n.trim()}return wrap(indent(t.trim()),`
`)}function parens(t){return"("+t+")"}function range(...t){let e,n,r=1;t=t.map(Number),t.length==1?(e=0,n=t[0]):t.length==2?(e=t[0],n=t[1]):t.length==3&&(e=t[0],n=t[1],r=t[2]);const i=[];if(e<n)for(let o=e;o<n;o+=r)i.push(o);else{r=Math.abs(r);for(let o=e;o>n;o-=r)i.push(o)}return i}function reWrap(t,e){if(e==String)return r(t);e===null?e=/(?:$1)/g:e||(e=/\b(?:$1)\b/gi);function n(o){return/\W/.test(o)?rescape(o):o}function r(o){const c=isObject(o)?Object.keys(o):o,a=sorted(unique(c.map(n)));return c.every(l=>l.length==1&&isLetter(l))?wrap(a.join(""),"[]"):a.join("|")}const i=e.source.replace(/\$1/g,r(t));return RegExp(i,e.flags)}function reduceToString(t,e,n){if(empty(t))return"";const r=map(t,e).filter(isDefined);return empty(r)?"":n==null?join(r):n==`

`||n==`
`?r.join(n)+n:r.join(n)}function removeComments(t){const e=/^ *(<!--[^]*?-->|\/\/|\/\*[^]*?\*\/).*\n*(?: *\n)*/gm;return t.replace(e,"")}function rescape(t,e){if(isRegExp(t)||t.includes("(?:"))return t;const n=isString(e)?RegExp(`[${e.replace(/[\[\]]/g,"\\$&")}]`,"g"):/[.\\[*+?()|^${}\[\]\/]/g;return t.replace(n,"\\$&")}function search(t,e,n=""){return isString(t)&&(t=RegExp(t,n)),matchGetter(e.toString().match(t),"search")}function smallify(t){return t.length==1?t[0]:t}function smartDedent(t){if(/^\S/.test(t))return t;t=stringBreaker(t),t=removeComments(t),t=t.replace(/^ *\n*|\n *$/g,"",t);const e=search(/^ *(?=\S)/m,t),n=search(/\n *(?=\S)/,t);!e&&n&&n.length>4&&n.slice(5);const r=RegExp("^"+e,"gm");return t.replace(r,"").trim()}function sorted(t,e,n){const r=p=>p[1],i=p=>p,o=p=>p[0];let c=!1,a=isObject(t)||isNestedArray(t);isObject(t)&&(t=Object.entries(t),c=!0),e?a&&(e=abf(e)):e=a?isNumber(t[0][0])?o:r:isNumber(t[0])?i:char2n;function l(p,b){let m=e(p),u=e(b);if(isNumber(m)){let d=Number(m),g=Number(u);return n?g-d:d-g}else return m==u?0:n?m<u?1:-1:m<u?-1:1}return t.sort(l),c?dict(t):t}function split(t,e=/ +/){if(!t)return"";if(isNumber(t)&&arguments.length==1)return t.toString().split("").map(toNumber);const n=(r,i)=>r.trim().split(i).map(trim).filter(exists);switch(type(e)){case"RegExp":return n(t,e);case"String":return n(t,must(regexes,e));case"Number":return[t.slice(0,e),t.slice(e)]}}function stringBreaker(t){const e=/(?:\n *|^)(?:e|-{10,}) *\n/;return e.test(t)?getLast(t.split(e)):/\bender\b/.test(t)?getLast(t.split(/\bender.*/)):t.replace(/^\s*breaker.*/msi,"")}function stringify(t,e){return exists(t)?isPrimitive(t)?t:isFunction(t)||isRegExp(t)?t.toString():JSON.stringify(t,e,2):""}function datestamp(){const t=new Date,e=t.getMonth()+1,n=t.getDate(),r=e.toString().padStart(2,0),i=n.toString().padStart(2,0),o=t.getFullYear();return`${r}-${i}-${o}`}function test(t,e,n=""){if(hasValue(e))return isString(t)&&(t=RegExp(t,n)),t.test(e)}function testf(t,e,n=""){if(!t)return;if(isFunction(t))return t;isString(t)&&(t=RegExp(t,n));const r=i=>t.test(i.toString());return e?antif(r):r}function trim(t){return t==null?"":t.toString().trim()}function uncapitalize(t){return t.replace(/\w/,e=>e.toLowerCase())}function unique(t,e){if(isString(t))return unique(t.split(""));if(e){const n=Array.from(e),r=i=>isPrimitive(e)?i!=e:!n.includes(i);t=t.filter(r)}return Array.from(new Set(t))}function wrap(t,e=`
`){return isArray(e)?`[${t}]`:e==Array?`[${t}]`:e=="[]"?`[${t}]`:e=="{}"?`{${t}}`:e=="{ }"?`{ ${t} }`:e==`{

}`?`{
${t}
}`:e==` {

}`?` {
${t}
}`:e==`[

]`?`[
${t}
]`:e=="()"?`(${t})`:e=="(?:)"?`(?:${t})`:e=="\\b"?`\\b${t}\\b`:e=="{{}}"?`{{${t}}}`:e=="{  }"?`{ ${t} }`:e+t.toString()+e}function zip(t,e=null,n){if(isNestedArray(t)&&(e=t[1],t=t[0]),n==Array){const i=[];for(let o=0;o<t.length;o++)i.push([t[o],e[o]]);return i}const r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r}function hasDollar(t){return/\$/.test(t)}function backspace(t){return t?t.slice(0,-1):""}function hasSpaces(t){return t.includes(" ")}function toNumber(t){return isNumber(t)?Number(t):t}function rep(t,e,n){function r(i,o,c){const a=(...l)=>{const p=matchGetter(l,"replace");return c(...p)};return i.toString().replace(compileRE(o),a)}return isObject(e)?dreplace(t,e,n):r(t,e,n)}function compileRE(t){if(isRegExp(t))return t;throw new Error}function isNode(){return isDeno()}function removeQuotes(t){return/^['"]/.test(t)?t.slice(1,-1):t}function flat(...t){const e=[],n=r=>{if(!empty(r))switch(type(r)){case"Set":return Array.from(r).map(n);case"Array":return r.map(n);case"Module":return e.push(...Object.values(r));default:return e.push(r)}};return n(t),e}function noop(){return null}function getErrorStack(t){const e=/^ *at (?:new )?(\w+\.\w+ \w+ \[.*?\]|\S+) \((?:file:\/\/)?(.*?):(\d+)/gm,n=(t||new Error).stack;return findall(e,n)}function dedent4(t,e){const n=isDefined(e)?toSpaces(e):" +",r=RegExp(`^${n}`,"gm");return t.replace(r,"")}function isError(t){return t instanceof Error||isObject(t)&&t.error}function entries(t){return t?isObject(t)?Object.entries(t):t:[]}function reduce(t,e){return entries(t).reduce((n,r,i)=>{const o=e(r,i);return o==null||(isArray(o)?n[o[0]]=o[1]:isString(r)?n[r]=o:isArray(r)?n[r[0]]=o:isObject(r)&&(n[r.key||r.name]=o)),n},{})}function empty(t){return t===0?!1:!exists(t)}function isUpperCase(t){return/^[A-Z]+\d*$/.test(t)}function isClassObject(t){return t&&!["String","Function","Number","Object","Array","Set","Promise","null","Date","HTMLDivElement"].includes(t.constructor.name)}function type(t){if(t==Number||t==String||t==Object||t==Array)return t.name;if(t===null)return"Null";if(t==null)return"Undefined";const e={int:"Number",str:"String",list:"Array",dict:"Object"};return isString(t)&&t in e?e[t]:typeof t=="number"&&t.toString()=="NaN"?"NaN":t[Symbol.toStringTag]=="Module"?"Module":t.constructor.name}function getErrorStack3(t,e=String){const n=(t||new Error).stack,r=/^error$|promise.all|handlemain|esm|module.job|consoleTest|geterror/i,i=c=>!r.test(c),o=lineGetter(n).filter(i);return e==String?o.join(`
`):o}function push2(t,e,n){if(isDefined(e)&&(!n||n(e)))return t.push(e),e}function testf2(t,e){if(t)switch(e){case Object:switch(type(t)){case"RegExp":return n=>t.test(n.value);case"Function":return t;default:return n=>n.value===t}default:switch(type(t)){case"RegExp":return n=>t.test(n);case"Function":return t;default:if(isString(t)&&t.startsWith("/")){const[n,r]=search(/\/(.*?)\/(\w*)$/,t),i=RegExp(n,r);return o=>i.test(o)}return n=>n===t}}}function indexGetter2(t,e){return isNumber(e)?e<0?t.length+e:e:findIndex2(t,e)}function findIndex2(t,e,n){const r=testf2(e);if(n){for(let o=t.length-1;o>=0;o--){let c=t[o];if(r(c))return o}return null}const i=t.findIndex(r);return i>-1?i:null}function insert2(t,e,n){if(n==null)return;const r=indexGetter2(t,e);return isDefined(r)&&t.splice(r,0,n),n}function toArray2(t){return t?isArray(t)?t:(isObject(t)&&panic("cannot be an object"),isSet(t)?Array.from(t):[t]):[]}function chalk3(t,e,n){const r=terminalColors,i=n||isCapitalized(e)?r.BOLD:"";return(r[e.toUpperCase()]||"")+i+str$1(t)+r.RESET}function hasHtmlSuffix(t,e){return e?!0:!selfClosingTags.includes(t)}function toSpaces(t){if(isNumber(t)){const e=Math.max(0,t);return" ".repeat(e)}return t.replace(/\t+/,e=>" ".repeat(e.length*4))}function smartDedent4(t){const e=/^\s*\n( +)/,n=/( +)\n+$/,r=match(t,e),i=match(t,n),o=r||i;return(o?dedent4(t,o):t).trim()}function conditionalSuffix(t,e){return t&&(RegExp(e+"$","i").test(t)?t:t+e)}function raise(t,e,...n){if(isError(t))throw t.stack=red(t.stack),t.message=red(t.message),t;if(arguments.length==1)throw new Error(red(t));const r=new Error;if(t){const i=red(conditionalSuffix(t,"Error"),!0);r.name=i}throw e&&(r.message=red(templater(e,n))),r}function prettyStringify(t,e={}){if(isPrimitive(t))return t;const n=/("(?:[^\\"]|\\.)*")|[:,]/g,r=JSON.stringify([1],void 0,e.indent===void 0?2:e.indent).slice(2,-3),i=r===""?1/0:e.maxLength===void 0?80:e.maxLength;let{replacer:o}=e;return o||(o=prettyStringifyReplacer),function c(a,l,p){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const b=JSON.stringify(a,o);if(b===void 0)return b;const m=i-l.length-p;if(b.length<=m){const u=b.replace(n,(d,g)=>g||`${d} `);if(u.length<=m)return u}if(o!=null&&(a=JSON.parse(b),o=void 0),typeof a=="object"&&a!==null){const u=l+r,d=[];let g=0,y,h;if(Array.isArray(a)){y="[",h="]";const{length:w}=a;for(;g<w;g++)d.push(c(a[g],u,g===w-1?0:1)||"null")}else{y="{",h="}";const w=Object.keys(a),{length:S}=w;for(;g<S;g++){const $=w[g],v=`${JSON.stringify($)}: `,k=c(a[$],u,v.length+(g===S-1?0:1));k!==void 0&&d.push(v+k)}}if(d.length>0)return[y,r+d.join(`,
${u}`),h].join(`
${l}`)}return b}(t,"",0)}function modularIncrementIndex(t,e,n=1){return n==1?e==t-1?0:e+1:e==0?t-1:e-1}function escapeNewlines(t){return t.replace(/\n/g,"\\n")}function escapeQuotes(t){return t.replace(/"/g,'\\"')}function str$1(t){return isPrimitive(t)?t:JSON.stringify(t)}function isLetter(t){return/[a-zA-Z]/.test(t.toString())}function runFunctionFromRef(t,e,...n){if(!t)return;const r=t[e];if(r)return r(...n)}function ndy(t){throw t&&console.log(t),new Error("not done yet")}function templater(s,...args){if(args[1]==Array)return join(entries(args[0]).map(t=>templater(s,t)));if(!s)return assertion2(args[0],isString),args[0];if(!s.includes("$"))return s;if(isFunction(args[0]))return rep(s,/\$(\w+)/g,args[0]);s=smartDedent4(s);const fix=t=>isClassObject(t)||isObject(t)?t:toArray2(t),ref=fix(args.length>1?args:args[0]),asArray=isArray(ref),fnRef={linebreak:"-".repeat(70),hr:"-".repeat(70),emDash:EMDASH,cap(t){return capitalize(removeQuotes(t))},depluralize,date:datestamp};return runner(s).trimEnd();function bracketRunner(s){const value=hasDollar(s)?runner(s):dreplace(s,ref);return eval(value)}function f(t,e,n,r,i,o,c,a,l,p){if(p)return indent2(dictGetter(ref,p).toString(),a);if(l)return hashRunner(l);if(n)return e+bracketRunner(n);if(r)return e+callableRunner(r,i);if(o)return dollarRunner(o,e,c)}function runner(t){const e=/([\t ]*)(?:\${(.*?)}|\$([a-zA-Z]\w+)\((.*?)\)|\$(\w+)(\[-?\d*:-?\d*\])?)|( *)(?:#(.*?)#|{{(.*?)}})/gi;return t.replace(e,f)}function callableRunner(t,e){!e.includes("$")&&isWord(e)&&(e="$"+e);const n=runner(e);return fnRef[t](n)}function hashRunner(t,e){return hasSpaces+runner(t)}function dollarRunner(t,e,n){const r=dollarValueGetter(t,ref,asArray);try{return indent2(stringifyPrimitive(r),e)}catch(c){console.log("ERRORRRRRRRR",c)}let i=1,o;if(isObject(ref))if(o=ref[t],o==null){if(t=="self")return JSON.stringify(ref);o=ref[uncapitalize(t)],o?o=capitalize(o):(o=fnRef[t],o&&(isFunction(o)?o=o():o=uncapitalize(o)))}else isArray(o)?db=JSON.stringify(o):fnRef.hasOwnProperty(t)&&(o=fnRef[t],isFunction(o)&&(o=o()));else isArray(ref)&&(o=ref[Number(t)-i],isArray(o)&&(o=JSON.stringify(o)));if(o==null)if(fnRef.hasOwnProperty(t))o=fparse(fnRef[t]);else return"";return isArray(o)?e+o.join(`
`):(n&&(console.log({dv:o}),ndy()),indent2(o,e))}}function isRegExpString(t){if(!/^\//.test(t))return!1;const e=t.match(/\/[gmis]*$/);if(!e)return!1;if(e[0].length>1)return!0;const n=t.slice(1,-e.length);return!(n.includes("/")&&!n.includes("\\/"))}function escapeTilda(t){return t.replace(/`/g,"\\`")}class Tally{constructor(e){this.store={},e&&(type(e)=="Tally"?this.store=copy(e.store):e.forEach((n,r)=>{this.add(n)}))}toJSON(e=Array){return e==Array?Object.keys(this.store).map(toNumber):this.store}add(e){return this.store.hasOwnProperty(e)?this.store[e]++:this.store[e]=1,this.store[e]}filter(e){return dict(Object.entries(this.store).filter(abf(e)))}}function escapedSingleQuote(t,e="'"){const n=t.replace(/\'/g,"\\'");return`${e}${n}${e}`}function splitDots(t){const e=regexTemplater(/\.(?!$1)/,commonExtensions),n=t.split(e);return n[0]=="this"&&n[0].shift(),n}function dictGetter(t,...e){if(empty(t))return;const n=e.length==1&&e[0].toString().includes(".")?splitDots(e[0]):isArray(e[0])?e[0]:e;for(const r of n)if(r in t)t=t[r];else return;return t}function assert(t,e,n){if(isBoolean(t)){if(t)return;panic(templater(e.replace(/\$\d+/,'"$&"'),n))}const r=assertion3(...arguments);if(r){class i extends Error{}throw new i(r)}}function interfaceAssertion(t,e){for(const[n,r]of Object.entries(e))typeAssertion(t[n],r)}const assertionRef={"Object-Null"(t,e){if(t.hasOwnProperty(e))return t[e];raise("KeyError",red(templater('the object: $object does not have the key: "$key"',{key:e,object:prettyStringify(t)})))},"Object-String"(t,e){if(t.hasOwnProperty(e))return t[e];raise("DictionaryKeyError",red(templater('the object: $object does not have the key: "$key"',{key:e,object:prettyStringify(t)})))},"Object-Object":interfaceAssertion};function assObject(t,e,n){if(!t)throw new Error(e.message)}function assertion3(t,e,n){if(isObject(e))return assObject(t,e);arguments.length==1&&(t==null&&panic("1 input and it is null: no null values allowed"),t===!1&&panic("failed the assertion"));const r=type(t),i=type(e);if(r=="Null"||r=="Undefined")return e?"the input is null: "+e:"the input is null";if(i=="String"){if(e.includes(" "))return;if(isObjectWithKey(t,e))return!1;const o={greaterThan:(l,p)=>l>p,lessThan:(l,p)=>l<p,equals:(l,p)=>l===p,str:isString};return o.hasOwnProperty(e)?o[e](t)?!1:"the input did not pass checkpoint: "+e:templater(n||"the input does not have the provided key: $key",{key:e,input:t})}if(i=="Function"){if(e(t))return;if([].includes(e)){const l=type(t),p=e.name;return templater("input of type $1 does not match required type: $2",l,p)}const c=type(t),a=n||e.name;return"the input (type "+c+"): did not pass the requirement: "+a}}function assertion2(t,e,...n){if(empty(t)){n.length&&console.log(...n);const h="an EmptyValueError occurs when the expected value has a value, but the actual input is empty. for example templater(my_template, null) <- the null will raise am EmptyValueError.";return raise2("EmptyValueError",h)}const r=type(t),i=type(e),o=r+"-"+i;if(assertionRef[o])return assertionRef[o](t,e);const c={greaterThan:(h,w)=>h>w,lessThan:(h,w)=>h<w,equals:(h,w)=>h===w,str:isString},a=isString(e)?c[e]:testf(e);if(a(t,...n))return;const p=isString(e)?e:a.name,b=capitalize(p)+"AssertionError",m=p.replace(/^is/,""),u=getExcerpt(stringify(t)),d=type(t),y=`
`+templater(`
        	expected "$check"
        	instead got "$t"
        	the input was: "$arg"
    `,{check:m,t:d,arg:u});return raise2(b,y)}function printf(t,...e){let n=flat(e),r=0;return t.replace(/%s/g,()=>n[r++])}function isNativeFunction(t){return javascriptNativeFunctions.includes(t)}function match(t,e){return isDefined(t)?getMatch(t.toString().match(e)):null}function getMatch(t){return t?t.length==1?t[0]:t.length==2?isDefined(t[1])?t[1]:t[0]:t.slice(1):null}class TypeAssertionError extends Error{constructor(e,n,r){let i=`

    Type "${n}" does not match Type "${r}" `;i+=`
    for provided argument "${e}"`;const o=red(i,!0);super(o),this.name="AssertionError"}}function TypeAssertion(t,e){const n=type(t),r=type(e);if(n==r)return!0;throw new TypeAssertionError(t,n,r)}function paramify(t){return toArray2(t).join(", ")}function buildFunction(t,e){if(!exists(t.body))return"";const n=o=>match(o.trim(),/^\w+/);let r;isString(t.body)?r=t.body:(r=toStringArgumentPretty(t.body,{maybeHasThisExpr:!0,max_length:0}),t.bodyWrapper&&(t.bodyWrapper.includes("$")?r=templater(t.bodyWrapper,r):r=strcall(t.bodyWrapper,r)),r="return "+r);let i="";return t.isAsync&&(i+="async "),i+="function",t.isGenerator&&(i+="!"),i+=" ",i+=t.name||"",i+="(",i+=t.paramString||paramify((t.params||[]).map(n)),i+=")",i+=" ",i+=brackify(r),e==Function?bringToLife(i):(e==null?void 0:e.name)=="eval"?e(parens(i)):i}function getExcerpt(t){switch(type(t)){case"Null":case"Undefined":return"null";case"Object":case"Array":case"Function":return match(t,/.+?(?= {)/);case"String":const e=t.trim().split(`
`);return e.length>5?e.slice(0,2).concat(`   ...
   ...   `).concat(e.slice(e.length-2)).join(`
`):t;case"Number":default:return t}}function strcall(t,e){if(isString(e))return isJsonParsable(e)?`${t}(${e})`:`${t}(${doubleQuote(escapeQuotes(escapeNewlines(removeQuotes(e))))})`;const n=paramify(e);return`${isCapitalized(t)?"new ":""}${t}(${n})`}const blue=chalkf2("blue",!0);chalkf2("blue",!0);chalkf2("green",!0);function abg(t,e){return t.length==1?t:(n,...r)=>t(...n,...r)}function forEach(t,e){return entries(t).forEach(abg(e))}function chalkf2(t,e){const n=terminalColors,r=n[t.toUpperCase()],i=n.RESET;function o(...m){switch(m.length){case 1:return l(...m);case 2:return b(...m);default:return chalk3(...m)}}return e?(...m)=>console.log(o(...m)):o;function c(m,u){const d=a(m),g=d.default||d.value;return(d.color?n[d.color.toUpperCase()]:r)+(u?n.BOLD:"")+g+i}function a(m){function u(d){return d?doubleQuote(d):'""'}switch(type(m)){case"Null":return{color:"gray",value:"null"};case"Undefined":return{color:"gray",value:"undefined"};case"Number":return{value:u(m)};case"String":return{default:m};default:return{default:JSON.stringify(m)}}}function l(m){return c(m)}function p(m){return r+n.BOLD+m+":"+i}function b(m,u){return p(m)+" "+c(u)}}function browser_chalk(t,e){console.log("%c"+t,"font-weight: bold; background: yellow; font-size: 12pt; padding: 0 20px",e)}function smart_map(t,e){let n=!1,r=!1;if(empty(t))return[];if(isNestedArray(t)?n=!0:isObject(t)?(n=!0,r=!0):isString(t)?t=[t]:isNumber(t)&&(t=range(t).map(a=>a+1)),isString(e)){let a=e;e=l=>l[a]}const i=n?(a,l,p,b)=>e(...a,l,p,b):e,o=r?Object.entries(t):t,c=[];for(let a=0;a<o.length;a++){const l=o[a],p=i(l,a,o,c);push2(c,p)}return c}function browserChalk2(t,e){if(isObject(t))return smart_map(t,browser_chalk);console.log("%c"+t,"font-weight: bold; background: yellow; font-size: 12pt; padding: 0 20px",e)}function raise2(t,e){const n=new Error;throw n.name=red(t,!0),e&&(n.message=red(e)),n}function textFrame(t){return t}function consoleTest(t,...e){if(!isNode())return;const n=console.testString;if(n==null)return;const r=t(n,...e),i=getErrorStack3();console.log(chalk3("running consoleTest","Green")),console.log(chalk3(i,"Blue")),sandwichLog(r)}function sandwichLog(t,e){if(empty(t))return;type(t)=="StateContext"&&(t=t.toString()),e?e+=" ":e="Sandwich Log ";const n=e+"-".repeat(40),r="-".repeat(n.length);console.log(n),console.log(t),console.log(r)}function javascriptObjectQuote(t){return/\W/.test(t)?singleQuote(t):t}function bracker(t,e,n,{lang:r,quote:i,indentation:o,max_length:c,noWrapper:a}){let[l,p]=e.split("");const b=l=="[";if(b&&!exists(t))return"[]";r=="typst"&&([l,p]=["(",")"]);const m=r=="vim"?"\\":"";r=="vim"&&(i=doubleQuote);const u=h=>b?h:r=="json"?doubleQuote(h[0])+": "+h[1]:h[0]===null?h[1]:h[0]===h[1]&&r=="javascript"?h[0]:r=="typst"?h[0]+": "+h[1]:h[0].endsWith("!")?h[0].slice(0,-1)+": "+removeQuotes(h[1]):i(h[0])+": "+h[1],d=t.map(u),g=l+d.join(", ")+p;if(n==0&&a)return d.join(`,
`);if(g.length+n*o<c&&!hasNewline(g))return g;let y=l+`
`;for(const h of d)y+=indent(m+h,o)+`,
`;return y+=m+p,y}function prettyStringifyReplacer(t,e){if(isRegExp(e))return e.toString();if(isClassObject(e)){const n=["toJSON","toString"];for(const r of n)try{return e[r]()}catch{continue}console.log(e),raise("JsonError","class objects are not allowed in json files")}return e}const regexes={spaces:new RegExp("(?<=\\S)\\s+"),bindingPrefix:/^(?:def|class|const|var|(?:async )?function[!*]?) /m,codeChunks:/\n+(?=(?:export|import|const|async|class|function|var|let) |(?:for|try|if|while|do) {|\w+(?:\.\w+)?\()/,linebreak:/^------+/m,comma:/,/,linebreak:linebreakRE,chunks:/\n\n+/,"/":/\//," ":/ +/};function regexTemplater(t,e){const n=templater(t.source,e);return RegExp(n,t.flags)}function panic(t,...e){typeAssertion(t,String);try{const n=t.replace(/\$\d+/g,'"$&"'),r=templater(n,...e);flame(r)}catch(n){flame(n)}}function toStringArgumentPretty(t,e={}){if(!t)return"";e.lang=="raw"&&(e.lang="]avascript");const i=reWrap(["handler","RE","getter","config","transformer"],/[a-zA-Z]+(?:$1)$|^\(.*?\) *=>/),o=/^(?:\$|fn:)(\w+)$/;isObject(e)||(e={}),assignFresh(e,{quote:javascriptObjectQuote,max_length:68,lang:"javascript",indentation:4,magic:!1,beforeStart:identity,variableName:!1,functional:!1});const c=b(e.beforeStart(t),0);return e.variableName?varialize(e.variableName,c,e.lang):c;function a(u,d){function g(h,w){if(isFunction(w)&&!isNativeFunction(w))return[null,m(h,w)];const S=b(w,d+1);return[h,S]}const y=smart_map(u,g);return bracker(y,"{}",d,e)}function l(u,d){const g=u.map(y=>b(y,d+1));return bracker(g,"[]",d,e)}function p(u){if(u=u.toString(),e.functional)return u;if(u=="''"||u=='""')return e.lang='""';if(e.lang=="javascript"&&javascriptBasicTypes.includes(u)||e.lang=="typst"&&/(?:\din|\dpt|\dem|\d%|\dpx|none|auto|left|top|bottom|right|black|blue|green|red|left|right|horizon|center)$/.test(u)||e.maybeHasThisExpr&&/^this.\w+$/.test(u))return u;if(o.test(u))return u.replace(o,"$1");if(e.magic){if(u.startsWith("!"))return u.slice(1);if(i.test(u))return u}if(/\n/.test(u))return`\`${escapeTilda(u)}\``;if(isRegExpString(u)||commonFunctionNames.includes(u)||/^[\[\{]/.test(u)&&/[\]\}]$/.test(u)||/^(?:new *)?\w+(?:\.\w+)?\(/.test(u))return u;const d=e.lang=="typst"?'"':"'";return escapedSingleQuote(u,d)}function b(u,d){if(u==null)return e.lang=="typst"?"none":"null";if(u==null)return e.lang=="typst"?"none":"undefined";if(u==="")return"''";if(u===!0||u==="true")return e.lang=="vim"?"v:true":"true";if(u===!1||u==="false")return e.lang=="vim"?"v:false":"false";switch(type(u)){case"Object":return a(u,d);case"Array":return l(u,d);case"String":return p(u);case"Function":return u.name;default:return u.toString()}}function m(u,d){const g=d.toString().replace(/\n\)/g,")").replace(/\n\n}/g,`
}`);let[y,h]=mget(/^async/,g);const w=h?"async ":"";y=y.replace(/function */,""),y=y.replace(/^ *\w+ */,"");let S=1,$=y.match(/\n( *)\S.*$/);return $&&($=$[1].length,S<$&&(y=y.replace(RegExp(`^ {${S},${$}}`,"gm"),""))),w+u+y}}function typeAssertion(t,e){const n=type(t);if(isArray(e)){for(const o of e)if(n==type(o))return;const i=e.map(type).join("|");flame(`Mismatched Type: expected '${i}', but got '${n}'`)}const r=type(e);n!==r&&flame(`Mismatched Type: expected '${r}', but got '${n}'`)}function getCaller(t=0){const e=getErrorStack(),n=["must","panic","pause","ass","assertObjectValue"];let r=-1;for(const c of n)if(r=e.findIndex(([a])=>a==c),r>-1)break;r==-1&&(r=e.findIndex(([c])=>c=="getCaller"),r>-1&&(r+=1));const i=r+1;let o=e[i];return o||(o=e[r]),{name:o[0],line:Number(o[2]),file:o[1]}}class Modulus{constructor(e=[],n={}){this.items=e,this.index=-1}setIndex(e){this.index=this.items.indexOf(e)}peek(e=1){const n=modularIncrementIndex(this.size,this.index,e);return this.items[n]}add(e){insert2(this.items,this.index+1,e)}next(){return this.index=modularIncrementIndex(this.size,this.index,1),this.items[this.index]}prev(){return this.index=modularIncrementIndex(this.size,this.index,-1),this.items[this.index]}get size(){return this.items.length}}function varialize(t,e,n){return`${jspy(n,"prefix")}${t} = ${e}`}function dollarValueGetter(t,e,n){if(t=="self")return e;if(n)return e[Number(t)-1];if(t in e)return e[t];pause(t,e)}function stringifyPrimitive(t){return isPrimitive(t)?t:JSON.stringify(t)}function must(...t){if(t.length==1){if(isDefined(t[0]))return t[0];panic("args[0] is null")}const e={Function(r,...i){const o=r(...i);if(isDefined(o))return o;panic(`
                null values are not allowed
                caller: $1
                args: $2
            `,r.name,i)},Module(r,i){if(i in r)return r[i];console.log(r),panic("the provided module (above) doesnt have the key: $1",i)},Object(r,i){if(i in r)return r[i];console.log(r),panic("the provided ref (above) doesnt have the key: $1",i)}},n=type(t[0]);return assert(e.hasOwnProperty(n),{message:"mustRef doesnt have the key: "+n}),e[n](...t)}function isPercentage(t){return/%$/.test(t.toString())}function parsePercentage(t){return Number(backspace(t))}function isDecimal(t){return typeof t=="number"&&t>-1&&t<1}function isDeno(){return typeof Deno<"u"}function flame(t){const e=getCaller(4);console.log(bold("Error Message:"),t.toString()),console.log(bold("Error Location:"),e);let n=printf("/home/kdog3682/.vim/ftplugin/assets/%s.vim.json","temp-error");isDeno()&&(Deno.writeTextFileSync(n,JSON.stringify(e)),forceExit())}function forceExit(){if(isDeno())prompt("press anything to exit"),Deno.exit();else throw new Error}function pause(...t){t.length?(console.log("pausing @ ",getCaller(1)),console.log("-----"),console.log(...t),console.log("-----")):console.log("!!! pausing at:",getCaller(1)),console.log(""),prompt("pausing ... press enter to continue or press any other key to Deno.exit.")&&Deno.exit()}const points=[[0,0],[2,0],[3,3],[0,2]];function translatePoint([t,e],n,r=1,i=1){const o=t+r*i*Math.cos(n),c=e+r*i*Math.sin(n);return[o,c]}function magnitude(t){return t>0?1:t<0?-1:0}function invslope([[t,e],[n,r]]){const i=r-e,o=n-t;return Math.atan(-o/i)}function slopes(t){let e;const n=i=>{const o=invslope(i),c=dxdy(i);let a=-1;e&&magnitude(e.angle)==magnitude(o)&&magnitude(c.x)==-1&&(a=a*-1),e={angle:o,delta:c};const l=1,p=m=>translatePoint(m,o,a,l);return i.map(p)};return t.map(n)}function getPointPairs(t){const e=t.slice(0,1).concat(t.slice(1).reverse()),n=[];for(let r=0;r<e.length;r++){const[i,o]=e.slice(r,r+2),c=o?[i,o]:[i,e[0]];n.push(c)}return n}function dxdy([[t,e],[n,r]]){const i=n-t,o=r-e;return{x:i,y:o}}const ps=slopes(getPointPairs(points)).flat();class Group{constructor(...e){this.shapes=flat(e)}toJSON(){return this.shapes.map(e=>e.toJSON())}apply(e,...n){return new Group(this.shapes.map(r=>r.apply(e,...n)))}map(e){return new Group(this.shapes.map(e))}translate(...e){return this.apply("translate",...e)}rotate(...e){return this.apply("rotate",...e)}}class ShapeAttributes{constructor(e){this.attrs=exists(e)?copy(e):{},this.keys=["points"]}copy(){return this.with(this.points)}with(e){return new this.constructor(...e,this.attrs)}fill(e){return this.set("fill",e)}rounded(e){return this.set("rx",e),this.set("ry",e)}thickness(e){return this.set("stroke-width",e)}stroke(e){return this.set("stroke",e)}dotted(e=1){this.attrs.hasOwnProperty("stroke-width")||this.set("stroke-width",e);const r={1:"1, 10",2:"2, 10",3:"3, 10",4:"4, 10",5:"5, 10"}[e];return this.set("stroke-dasharray",r)}get type(){return type(this)}toJSON(){if("json"in this)return this.json();const e=["type","attrs"],n=this.keys.concat(e);return reduce(n,i=>{const o=i=="points"?this[i].map(c=>c.toJSON()):this[i];return[i,o]})}set(e,n){return this.keys.includes(e)?this[e]=n:this.attrs[e]=n,this}}class Shape extends ShapeAttributes{apply(e,...n){const r=o=>o[e](...n),i=this.points.map(r);return this.with(i)}translate(...e){return this.apply("translate",...e)}rotate(e,n){return isString(n)&&(n=this[n]),this.apply("rotate",e,n)}}class Point{constructor(e,n){this.x=e,this.y=n}copy(){return new Point(this.x,this.y)}translate(e){if(arguments.length==3){const a=isDefined(arguments[0])?arguments[0]:this.x,l=isDefined(arguments[1])?arguments[1]:this.y;return new Point(a,l)}if(arguments.length==2)return new Point(this.x+arguments[0],this.y+arguments[1]);if(type(arguments[0])=="Vector")return new Point(this.x+arguments[0].x,this.y+arguments[0].y);let{dx:n,dy:r,angle:i,length:o,radius:c}=e;if(isDefined(i)){i=toRadians(i);const a=o||c||0,l=this.x+a*Math.cos(i),p=this.y+a*Math.sin(i);return new Point(l,p)}if(isDefined(n))return new Point(n,r);panic("{angle, length} or 2 arguments")}rotate(e,n){return n||(n=ORIGIN),rotatePointAroundPoint(this,n,e)}toJSON(){return{x:this.x,y:this.y}}}class Circle extends Shape{constructor(e,n,r){console.log({center:e,radius:n}),super(r),this.center=e,this.radius=n,this.keys=["center","radius"]}json(){const{x:e,y:n}=this.center.toJSON();return{tag:"circle",attrs:{cx:e,cy:n,r:this.radius,...computeStyleAttrs(this.attrs)}}}set points(e){this.center=e[0]}get points(){return[this.center]}with(e){return new Circle(e[0],this.radius,this.attrs)}get north(){return new Point(this.center.x,this.center.y-this.radius)}get south(){return new Point(this.center.x,this.center.y+this.radius)}get east(){return new Point(this.center.x+this.radius,this.center.y)}get west(){return new Point(this.center.x-this.radius,this.center.y)}get northeast(){return this.center.translate(this.radius/Math.sqrt(2),-this.radius/Math.sqrt(2))}get southeast(){return this.center.translate(this.radius/Math.sqrt(2),this.radius/Math.sqrt(2))}get southwest(){return this.center.translate(-this.radius/Math.sqrt(2),this.radius/Math.sqrt(2))}get northwest(){return this.center.translate(-this.radius/Math.sqrt(2),-this.radius/Math.sqrt(2))}}class Line extends Shape{json(){const e=this.start.toJSON(),n=this.end.toJSON();return{tag:"line",attrs:{x1:e.x,y1:e.y,x2:n.x,y2:n.y,...computeStyleAttrs(this.attrs)}}}get length(){return Math.sqrt(Math.pow(this.end.x-this.start.x,2)+Math.pow(this.end.y-this.start.y,2))}set length(e){const n=this.angle;this.end=new Point(this.start.x+Math.cos(n)*e,this.start.y+Math.sin(n)*e)}get angle(){return Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}set angle(e){const n=this.length;this.end=new Point(this.start.x+Math.cos(e)*n,this.start.y+Math.sin(e)*n)}get width(){return Math.abs(this.b.x-this.a.x)}set width(e){this.b=new Point(this.a.x+e,this.b.y)}get height(){return Math.abs(this.b.y-this.a.y)}set height(e){this.b=new Point(this.b.x,this.a.y+e)}constructor(e,n,r){super(r),this.start=e,this.end=n}set points(e){this.start=e[0],this.end=e[1]}get points(){return[this.start,this.end]}}class Rect extends Shape{get center(){const e=boundingBox(this.points),{x:n,y:r}=e.center;return new Point(n,r)}json(){return{tag:"rect",attrs:{...this.start.toJSON(),width:this.width,height:this.height,...computeStyleAttrs(this.attrs)}}}constructor(e,n,r){super(r),this.a=e,this.b=n}get points(){return[this.a,this.b]}set points(e){this.a=e[0],this.b=e[1]}get width(){return Math.abs(this.b.x-this.a.x)}get height(){return Math.abs(this.b.y-this.a.y)}get north(){return new Point(this.a.x+(this.b.x-this.a.x)/2,this.b.y)}get south(){return new Point(this.a.x+(this.b.x-this.a.x)/2,this.a.y)}get east(){return new Point(this.b.x,this.a.y+(this.b.y-this.a.y)/2)}get west(){return new Point(this.a.x,this.a.y+(this.b.y-this.a.y)/2)}get northeast(){return this.b}get northwest(){return new Point(this.a.x,this.b.y)}get southeast(){return new Point(this.b.x,this.a.y)}get southwest(){return this.a}get midpoint(){return new Point((this.a.x+this.b.x)/2,(this.a.y+this.b.y)/2)}get center(){return this.midpoint}}const ORIGIN=new Point(0,0);function rotatePointAroundPoint(t,e,n){const{x:r,y:i}=t,{x:o,y:c}=e,a=toRadians(n),l=r-o,p=i-c,b=l*Math.cos(a)-p*Math.sin(a),m=l*Math.sin(a)+p*Math.cos(a),u=b+o,d=m+c;return new Point(u,d)}class Vector{constructor(...e){const[n,r]=getPoint(e);this.x=n,this.y=r}add(e){return new Vector(this.x+e.x,this.y+e.y)}subtract(e){return new Vector(this.x-e.x,this.y-e.y)}multiply(e){return new Vector(this.x*e,this.y*e)}dot(e){return this.x*e.x+this.y*e.y}magnitude(){return Math.sqrt(this.x**2+this.y**2)}flip(e,n){let r=1,i=1;return e||n?(e&&(i=-1),n&&(r=-1)):(i=-1,r=-1),new Vector(i*this.x,r*this.y)}toString(){return`(${this.x}, ${this.y})`}}function getPoint(t){return isObject(t[0])||isPoint(t[0])?[t[0].x,t[0].y]:t}function getPoints(...t){const e=[];let n;for(let r=0;r<t.length;r++){const i=t[r],o=type(i);o=="Number"?e.push(new Point(i,t[++r])):o=="Array"?e.push(new Point(...i)):o=="Point"?e.push(i):o=="Object"?"x"in i?e.push(new Point(i.x,i.y)):n=i:panic("unexpected type: not an obj num or point or array")}return e.length==1&&e.unshift(new Point(0,0)),e.push(n),e}function isPoint(t){return type(t)=="Point"}function computeStyleAttrs(t){const e={};if(!t)return e;const n={stroke:"stroke",thickness:"stroke-width",fill:"fill"};for(const[r,i]of entries(t)){const o=must(n,r);e[o]=i}return e.stroke&&!e.hasOwnProperty("stroke-width")&&(e["stroke-width"]=1),e["stroke-width"]&&!e.hasOwnProperty("stroke")&&(e.stroke="black"),e}function boundingBox(t){const e=t.map(u=>u.x),n=t.map(u=>u.y),r=Math.min(...e),i=Math.max(...e),o=Math.min(...n),c=Math.max(...n),a=average(...e),l=average(...n),p={x:a,y:l},b=i-r,m=c-o;return{xmin:r,xmax:i,ymin:o,ymax:c,width:b,height:m,center:p}}class Block extends Rect{constructor(...e){const n=getPoints(...e);super(...n)}calculate(e,n){const r={x:"width",y:"height"};if(isDecimal(e))return this[r[n]]*Number(e);if(isNumber(e))return e;if(isPercentage(e)){const i=this[r[n]];return parsePercentage(e)*i}}lift(e){const n=this.calculate(e,"y"),r=this.copy();return r.a.y+=n,r}lower(e){const n=this.calculate(e,"y"),r=this.copy();return r.b.y-=n,r}down(e){const n=this.calculate(e,"y"),r=this.copy();return r.a.y+=n,r}up(e){const n=this.calculate(e,"y"),r=this.copy();return r.b.y+=n,r}left(e){const n=this.calculate(e,"x"),r=this.copy();return r.a.x+=n,r}right(e){const n=this.calculate(e,"x"),r=this.copy();return r.b.x+=n,r}scale(e){const n=this.calculate(e,"x"),r=this.calculate(e,"y"),i=this.copy();return i.b.x+=n,i.b.y+=r,i}}function elt(t){typeAssertion(t,Object);const e=t.class||t.className,n=t.attrs||t.attributes,r=t.innerHTML||t.html,i=t.style,o="http://www.w3.org/2000/svg",c=()=>n?n.rel?"link":n.src?"script":"div":"div",a=m=>{if(l=="script"||l=="link")return document.head},l=t.tag||c(),p=t.parent||a(),b=svgTags.includes(l)?document.createElementNS(o,l):document.createEl(l);if(e&&(b.className=e),n)for(const[m,u]of Object.entries(n))b.setAttribute(m,u);return r&&(b.innerHTML=r),i&&(console.log(i),Object.assign(b.style,i)),p&&p.appendChild(b),b}const tagRef={html:'<!DOCTYPE html><html lang="en"'};function xmlString(t,e){const{component:n,tag:r,text:i,newlines:o,singleLine:c,html:a}=t;if(a)return a;const l=buildAttrString(t),p=n||r||"div",b=c?" ":`
`,m="",u=exists(e)?e.join(b):i||"";if(p=="none")return u;const d=c?u:hasNewline(u)||hasHtml(u)?`
`+indent(u)+`
`:m+u,y=hasHtmlSuffix(p)===!0?">":"/>";let h="<";if(h+=tagRef[p]||p,h+=l,n&&d=="")return h+"/>";if(h+=y,y=="/>")return h;h+=d,h+="</",h+=p,h+=">";const w=o?`
`.repeat(o):"";return h+w}function attrCase(t){return TypeAssertion(t,String),["viewBox","refX","refY","markerWidth","markerHeight","patternUnits"].includes(t)||/\./.test(t)?t:dashCase(t)}function buildAttrString(t){const{props:e,events:n,directives:r,attrs:i,style:o,classes:c}=t,a=(y,h,w="=",S=" ")=>{const v={events:"@",props:":"}[h]||"";return reduceToString(y,(E,O)=>{if(O!=null)return O===""?E:v+attrCase(E)+w+vueAttrQuotes(O)},S)},l=buildClassName(t),p=a(e,"props"),b=a(n,"events"),m=a(r,"directives"),u=a(i,"attrs"),d=styleString(o),g=[l,p,b,m,u,d].filter(exists).join(" ");return g?" "+g:""}function styleString(t){const e=reduceToString(t,(n,r)=>isDefined(r)?`${n}: ${r};`:null," ");return e?attrEntry("style",e):""}function vueAttrQuotes(t){if(isString(t)){if(/"/.test(t)&&(t=t.replace(/\"/g,'\\"')),t.includes(`
`)&&(t=t.replace(/\n/g,"\\n")),/ \+ /.test(t))return`"${t}"`}else t=JSON.stringify(t).replace(/"/g,"'");return doubleQuote(t.trim())}function attrEntry(t,e){return`${t}="${e}"`}function buildClassName(t){let e="";return t.class&&(e+=t.class+" "),t.classes&&(e+=t.classes.join(" ").trim()),exists(e)?`class="${e.trim()}"`:""}class Palette extends Modulus{constructor(){super(roygbiv)}black(){return"black"}}function str(t){return`(${fixFloatingPoint(t.x)}, ${fixFloatingPoint(t.y)})`}class World{static from(e){const n=buildFunction({paramString:"{palette, origin, group, circle, rect, line}",body:e,name:"lambda"},Function);return new World().canvas(n)}debug(){this.computedWidth;const e=this.computedHeight;this.options.padding;const n=new Vector(1,-1),r=i=>i.translate(null,e-i.y,"absolute").translate(n);return this.store.map(i=>i.value.points.map(r).map(ffp).map(str)).flat().join(`
`)}get contents(){return new Group(this.store.map(e=>e.value))}normalizeCoordinates(){return norm(this)}translate(...e){const n=new World(this.width,this.height,this.options);n.tally=new Tally(this.tally);const r=i=>{const o=i.value.translate(...e);return{...i,value:o}};return n.store=this.store.map(r),n}setSize(e,n){e&&(this.width=e),n&&(this.height=n)}toElt(e){e=e||this.normalizeCoordinates();const i=makeRunner((o,c)=>{const a=elt(o);return forEach(c,a.appendChild.bind(a)),a})(e);return document.body.appendChild(i),i}toSvg(e){return e=e||this.normalizeCoordinates(),makeRunner(xmlString)(e)}toJSON(){const e=i=>i.value.toJSON(),n=this.options,r=this.store.map(e);return{options:n,contents:r}}normalize(e){let{x:n,y:r}=e,i=this.options.unit;return n-=this.options.minX,r=this.height-r-i+this.options.minY,n*=this.options.magnification,r*=this.options.magnification,new Point(n,r)}setOptions(e){Object.assign(this.options,e)}constructor(e=10,n=10,r={}){this.setSize(e,n),this.options=r,assignFresh(this.options,{padding:3,autoRegister:!1}),this.store=[],this.tally=new Tally,this.get=this.get.bind(this),this.register=this.register.bind(this),this.palette=new Palette}get(e){const n=["rects","lines","circles","squares"],r=a=>a.value,[i,o,c]=e.split(".");if(n.includes(i)){const a=capitalize(i).slice(0,-1);if(o==null){const l=p=>p.type==a;return this.store.filter(l).map(r)}else{const l=p=>p.type==a&&p.accessor==o;return r(this.store.find(l))}}else{const a=p=>p.accessor==e;return r(this.store.find(a))}}register(e){if(isArray(e))return e.forEach(this.register);const n=e.type,r=this.tally.add(n),i={type:n,accessor:n2char(r-1),value:e};return this.store.push(i),e}canvas(e){function n(g){const y=match(g,/p(-?\d)(-?\d)/);return assert(y),y.map(Number)}const r=g=>{switch(type(g)){case"Point":return g;case"Object":return new Point(g.x,g.y);case"Array":return new Point(...g);case"String":return new Point(...n(g))}},i=(g,y,h)=>{const w=[g,y].map(r),S=new Line(...w,h);return this.options.autoRegister?this.register(S):S},o=(g,y,h)=>{const w=[g,y].map(r),S=new Rect(...w,h);return this.options.autoRegister?this.register(S):S},c=(g,y=1,h={})=>{const w=new Circle(r(g),y,h);return this.options.autoRegister?this.register(w):w},a=g=>new Group(g),l=(...g)=>{const y=new Block(...g);return this.options.autoRegister?this.register(y):y},p=this.palette,u=e({world:this,block:l,point:(g,y)=>new Point(g,y),palette:p,group:a,origin:ORIGIN,rect:o,circle:c,line:i,get:this.get,register:this.register});if(isDefined(u))return u;const d=this.options.mode=="svg"?"toSvg":"toElt";return this[d]()}}function norm(t){const e=p=>p.value.points,n=t.store[0].value.radius;t.options.padding+n;const r=t.store.map(e).flat(),i=boundingBox(r),[o,c,a]=applyPadding(i,t.options.padding),l=t.contents.translate(a).toJSON();return svgWrapper(o,c,l)}function svgWrapper(t,e,n){const r=`0 0 ${t} ${e}`;return{tag:"svg",style:{outline:"1px solid black",zoom:"200%"},attrs:{width:t,height:e,viewBox:r},children:n}}function applyPadding(t,e){let n,r,i,o;typeof e=="number"?n=r=i=o=e:typeof e=="object"&&(n=e.top!==void 0?e.top:0,r=e.right!==void 0?e.right:0,i=e.bottom!==void 0?e.bottom:0,o=e.left!==void 0?e.left:0);const c=t.height+n+i,a=t.width+o+r,l=new Vector(t.xmin-o,t.ymax+n);return l.x=Math.abs(l.x),l.y=c-l.y,[a,c,l]}function makeRunner(t){const e=n=>{const r=n.children;return r?t(n,r.map(e)):t(n)};return e}const options={mode:"elt",padding:20,border:!0},world=new World;world.setOptions(options);world.canvas(({point:t,circle:e,line:n,register:r})=>{n(t(0,0),t(100,100));function i([c,a]){return[10*c,-10*a]}function o(c,a="blue"){c.forEach((l,p)=>{const b=i(l);r(e(b,3).fill(a))})}o(ps),o(points,"green")});
